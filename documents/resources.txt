{"_id":"_design/bell","language":"javascript","views":{"sortresources":{"map":"function (doc) {\n      if (doc.title) {\n        emit(doc.title, true)\n      }\n    }"},"NewsResources":{"map":"function (doc) {\n      if (doc.title) {\n        emit(doc.Tag, true)\n      }\n    }"},"resourceswithstartkey":{"map":"function (doc) {\n      if (doc.title) {\n        emit(doc.title, true)\n      }\n    }"},"listCollection":{"map":"function (doc) {\n\n\tif (doc.Tag && doc.kind == 'Resource') {\n\n\t\tif (Array.isArray(doc.Tag)) {\n\t\t\tif (doc.Tag.length > 0) {\n\t\t\t\tfor (var idx in doc.Tag) {\n\t\t\t\t\temit(doc.Tag[idx], doc._id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\temit(doc.Tag, doc._id)\n\t\t}\n\t}\n\tif (doc.subject && doc.kind == 'Resource') {\n\n\n\t\tif (Array.isArray(doc.subject)) {\n\t\t\tif (doc.subject.length > 0) {\n\t\t\t\tfor (var idx in doc.subject) {\n\t\t\t\t\temit(doc.subject[idx], doc._id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\temit(doc.subject, doc._id)\n\t\t}\n\n\n\t}\n\tif (doc.Level && doc.kind == 'Resource') {\n\n\n\t\tif (Array.isArray(doc.Level)) {\n\t\t\tif (doc.Level.length > 0) {\n\t\t\t\tfor (var idx in doc.Level) {\n\t\t\t\t\temit(doc.Level[idx], doc._id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\temit(doc.Level, doc._id)\n\t\t}\n\n\n\t}\n\tif (doc.Medium && doc.kind == 'Resource') {\n\t\temit(doc.Medium, doc._id)\n\t}\n\tif (doc.sum && doc.timesRated >= 1 && doc.kind == 'Resource') {\n\t\temit(Math.ceil(doc.sum / doc.timesRated), doc._id)\n\t}\n\n\tif (doc.title) {\n\t\tvar txt = doc.title;\n\t\tvar prefix = txt.replace(/[!(.,;):]+/g, \"\").toLowerCase().split(\" \");\n\t\tif (prefix.length > 0) {\n\t\t\tfor (var idx in prefix) {\n\t\t\t\tif (prefix[idx] != ' ' && prefix[idx] != \"\" && prefix[idx] != \"the\" && prefix[idx] != \"an\" && prefix[idx] != \"a\")\n\t\t\t\t\temit(prefix[idx], doc._id);\n\t\t\t}\n\t\t}\n\t}\n\tif (doc.author && doc.kind == 'Resource') {\n\tif (Array.isArray(doc.author)) {\n\t\tauth = doc.author\n\t\tfor (var idnx in auth) {\n\t\t\tvar prefix = auth[idnx].replace(/[!(.,;):]+/g, \"\").toLowerCase().split(\" \");\n\t\t\tif (prefix.length > 0) {\n\t\t\t\tfor (var idx in prefix) {\n\t\t\t\t\tif (prefix[idx] != ' ' && prefix[idx] != \"\" && prefix[idx] != \"the\" && prefix[idx] != \"an\" && prefix[idx] != \"a\")\n\t\t\t\t\t\temit(prefix[idx], doc._id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\tvar authr = doc.author.replace(/[!(.,;):]+/g, \"\").toLowerCase().split(\" \");\n\t\tif (authr.length > 0) {\n\t\t\tfor (var idx in authr) {\n\t\t\t\tif (authr[idx] != ' ' && authr[idx] != \"\" && authr[idx] != \"the\" && authr[idx] != \"an\" && authr[idx] != \"a\")\n\t\t\t\t\temit(authr[idx], doc._id);\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n}"},"resourceOnTtile":{"map":"function(doc) {\n\tif(doc.title)\n  emit(doc.title, doc._id);\n}"},"count":{"map":"function(doc) {\n  emit(doc._id, 1);\n}","reduce":"function(keys, values, rereduce) {\n  return sum(values);\n}"},"resourceName":{"map":"function(doc) {\n\tif(doc.title)\n  emit(doc._id, doc.title);\n}"},"check_for_optimization":{"map":"function(doc) {\n\n\tif((doc.need_optimization===true) && (doc.openWith == 'PDF.js')){\n\t  emit(doc._id, doc);\n}\n\n}"},"welcomeVideo":{"map":"function (doc) {\n      if (doc.isWelcomeVideo) {\n        emit(doc._id, true)\n      }\n    }"}},"kind":"Resource"}